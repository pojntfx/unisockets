<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1292px" preserveAspectRatio="none" style="width:1562px;height:1292px;" version="1.1" viewBox="0 0 1562 1292" width="1562px" zoomAndPan="magnify"><defs><filter height="300%" id="f1xjwzn26o2zxp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="233" x="665.5" y="22.9951">unisockets Signaling Protocol</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="72" x2="72" y1="116.5938" y2="1205.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="203" x2="203" y1="116.5938" y2="1205.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="662.5" x2="662.5" y1="116.5938" y2="1205.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1294" x2="1294" y1="116.5938" y2="1205.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1491" x2="1491" y1="116.5938" y2="1205.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="8" y="113.292">External System 1</text><ellipse cx="72.5" cy="43.2969" fill="#FEFECE" filter="url(#f1xjwzn26o2zxp)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M72.5,51.2969 L72.5,78.2969 M59.5,59.2969 L85.5,59.2969 M72.5,78.2969 L59.5,93.2969 M72.5,78.2969 L85.5,93.2969 " fill="none" filter="url(#f1xjwzn26o2zxp)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="8" y="1217.3701">External System 1</text><ellipse cx="72.5" cy="1230.6719" fill="#FEFECE" filter="url(#f1xjwzn26o2zxp)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M72.5,1238.6719 L72.5,1265.6719 M59.5,1246.6719 L85.5,1246.6719 M72.5,1265.6719 L59.5,1280.6719 M72.5,1265.6719 L85.5,1280.6719 " fill="none" filter="url(#f1xjwzn26o2zxp)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1xjwzn26o2zxp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="147" y="81.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="154" y="101.292">Binding Client</text><rect fill="#FEFECE" filter="url(#f1xjwzn26o2zxp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="147" y="1204.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="154" y="1224.3701">Binding Client</text><rect fill="#FEFECE" filter="url(#f1xjwzn26o2zxp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="598.5" y="81.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="605.5" y="101.292">Signaling Server</text><rect fill="#FEFECE" filter="url(#f1xjwzn26o2zxp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="598.5" y="1204.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="605.5" y="1224.3701">Signaling Server</text><rect fill="#FEFECE" filter="url(#f1xjwzn26o2zxp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="1224" y="81.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="1231" y="101.292">Connecting Client</text><rect fill="#FEFECE" filter="url(#f1xjwzn26o2zxp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="1224" y="1204.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="1231" y="1224.3701">Connecting Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="1427" y="113.292">External System 2</text><ellipse cx="1491.5" cy="43.2969" fill="#FEFECE" filter="url(#f1xjwzn26o2zxp)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1491.5,51.2969 L1491.5,78.2969 M1478.5,59.2969 L1504.5,59.2969 M1491.5,78.2969 L1478.5,93.2969 M1491.5,78.2969 L1504.5,93.2969 " fill="none" filter="url(#f1xjwzn26o2zxp)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="1427" y="1217.3701">External System 2</text><ellipse cx="1491.5" cy="1230.6719" fill="#FEFECE" filter="url(#f1xjwzn26o2zxp)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1491.5,1238.6719 L1491.5,1265.6719 M1478.5,1246.6719 L1504.5,1246.6719 M1491.5,1265.6719 L1478.5,1280.6719 M1491.5,1265.6719 L1504.5,1280.6719 " fill="none" filter="url(#f1xjwzn26o2zxp)" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="201.5" x2="191.5" y1="147.7266" y2="143.7266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="201.5" x2="191.5" y1="147.7266" y2="151.7266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="72.5" x2="202.5" y1="147.7266" y2="147.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="79.5" y="142.6606">Opens client</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="660.5" x2="650.5" y1="176.8594" y2="172.8594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="660.5" x2="650.5" y1="176.8594" y2="180.8594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="661.5" y1="176.8594" y2="176.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="210.5" y="171.7935">Knock(subnet: 127.0.0)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="205.9922" y2="201.9922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="205.9922" y2="209.9922"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="203.5" x2="661.5" y1="205.9922" y2="205.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="304" x="220.5" y="200.9263">Acknowledgement(id: 127.0.0.1, rejected: false)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="201.5" x2="191.5" y1="235.125" y2="231.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="201.5" x2="191.5" y1="235.125" y2="239.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="72.5" x2="202.5" y1="235.125" y2="235.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="79.5" y="230.0591">Binds alias</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="660.5" x2="650.5" y1="264.2578" y2="260.2578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="660.5" x2="650.5" y1="264.2578" y2="268.2578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="661.5" y1="264.2578" y2="264.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="258" x="210.5" y="259.1919">Bind(id: 127.0.0.1, alias: 127.0.0.1:1234)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="293.3906" y2="289.3906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="293.3906" y2="297.3906"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="203.5" x2="661.5" y1="293.3906" y2="293.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="322" x="220.5" y="288.3247">Alias(id: 127.0.0.1, alias: 127.0.0.1:1234, set: true)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="201.5" x2="191.5" y1="322.5234" y2="318.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="201.5" x2="191.5" y1="322.5234" y2="326.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="72.5" x2="202.5" y1="322.5234" y2="322.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="79.5" y="317.4575">Accepts clients</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="660.5" x2="650.5" y1="351.6563" y2="347.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="660.5" x2="650.5" y1="351.6563" y2="355.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="661.5" y1="351.6563" y2="351.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="293" x="210.5" y="346.5903">Accepting(id: 127.0.0.1, alias: 127.0.0.1:1234)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294.5" x2="1304.5" y1="380.7891" y2="376.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294.5" x2="1304.5" y1="380.7891" y2="384.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294.5" x2="1490.5" y1="380.7891" y2="380.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="1311.5" y="375.7231">Opens client</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="662.5" x2="672.5" y1="409.9219" y2="405.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="662.5" x2="672.5" y1="409.9219" y2="413.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="662.5" x2="1293.5" y1="409.9219" y2="409.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="679.5" y="404.856">Knock(subnet: 127.0.0)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1292.5" x2="1282.5" y1="439.0547" y2="435.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1292.5" x2="1282.5" y1="439.0547" y2="443.0547"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="662.5" x2="1293.5" y1="439.0547" y2="439.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="304" x="669.5" y="433.9888">Acknowledgement(id: 127.0.0.2, rejected: false)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="468.1875" y2="464.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="468.1875" y2="472.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="661.5" y1="468.1875" y2="468.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="331" x="220.5" y="463.1216">Greeting(offererId: 127.0.0.1, answererId: 127.0.0.2)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="660.5" x2="650.5" y1="497.3203" y2="493.3203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="660.5" x2="650.5" y1="497.3203" y2="501.3203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="203.5" x2="661.5" y1="497.3203" y2="497.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="368" x="210.5" y="492.2544">Offer(offererId: 127.0.0.1, answererId: 127.0.0.2, offer: o1)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1292.5" x2="1282.5" y1="526.4531" y2="522.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1292.5" x2="1282.5" y1="526.4531" y2="530.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="662.5" x2="1293.5" y1="526.4531" y2="526.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="368" x="669.5" y="521.3872">Offer(offererId: 127.0.0.1, answererId: 127.0.0.2, offer: o1)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="662.5" x2="672.5" y1="555.5859" y2="551.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="662.5" x2="672.5" y1="555.5859" y2="559.5859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="662.5" x2="1293.5" y1="555.5859" y2="555.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="399" x="679.5" y="550.52">Answer(offererId: 127.0.0.1, answererId: 127.0.0.2, answer: a1)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="584.7188" y2="580.7188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="584.7188" y2="588.7188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="203.5" x2="661.5" y1="584.7188" y2="584.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="399" x="220.5" y="579.6528">Answer(offererId: 127.0.0.1, answererId: 127.0.0.2, answer: a1)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="660.5" x2="650.5" y1="613.8516" y2="609.8516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="660.5" x2="650.5" y1="613.8516" y2="617.8516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="661.5" y1="613.8516" y2="613.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="435" x="210.5" y="608.7856">Candidate(offererId: 127.0.0.1, answererId: 127.0.0.2, candidate: c1)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="660.5" x2="650.5" y1="642.9844" y2="638.9844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="660.5" x2="650.5" y1="642.9844" y2="646.9844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="661.5" y1="642.9844" y2="642.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="435" x="210.5" y="637.9185">Candidate(offererId: 127.0.0.1, answererId: 127.0.0.2, candidate: c2)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1292.5" x2="1282.5" y1="672.1172" y2="668.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1292.5" x2="1282.5" y1="672.1172" y2="676.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="662.5" x2="1293.5" y1="672.1172" y2="672.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="435" x="669.5" y="667.0513">Candidate(offererId: 127.0.0.1, answererId: 127.0.0.2, candidate: c1)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1292.5" x2="1282.5" y1="701.25" y2="697.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1292.5" x2="1282.5" y1="701.25" y2="705.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="662.5" x2="1293.5" y1="701.25" y2="701.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="435" x="669.5" y="696.1841">Candidate(offererId: 127.0.0.1, answererId: 127.0.0.2, candidate: c2)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="662.5" x2="672.5" y1="730.3828" y2="726.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="662.5" x2="672.5" y1="730.3828" y2="734.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="662.5" x2="1293.5" y1="730.3828" y2="730.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="435" x="679.5" y="725.3169">Candidate(offererId: 127.0.0.2, answererId: 127.0.0.1, candidate: c3)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="662.5" x2="672.5" y1="759.5156" y2="755.5156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="662.5" x2="672.5" y1="759.5156" y2="763.5156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="662.5" x2="1293.5" y1="759.5156" y2="759.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="435" x="679.5" y="754.4497">Candidate(offererId: 127.0.0.2, answererId: 127.0.0.1, candidate: c4)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="788.6484" y2="784.6484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="788.6484" y2="792.6484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="661.5" y1="788.6484" y2="788.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="435" x="220.5" y="783.5825">Candidate(offererId: 127.0.0.2, answererId: 127.0.0.1, candidate: c3)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="817.7813" y2="813.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="817.7813" y2="821.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="661.5" y1="817.7813" y2="817.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="435" x="220.5" y="812.7153">Candidate(offererId: 127.0.0.2, answererId: 127.0.0.1, candidate: c4)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294.5" x2="1304.5" y1="846.9141" y2="842.9141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294.5" x2="1304.5" y1="846.9141" y2="850.9141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294.5" x2="1490.5" y1="846.9141" y2="846.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="1311.5" y="841.8481">Requests connection</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="662.5" x2="672.5" y1="876.0469" y2="872.0469"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="662.5" x2="672.5" y1="876.0469" y2="880.0469"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="662.5" x2="1293.5" y1="876.0469" y2="876.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="487" x="679.5" y="870.981">Connect(id: 127.0.0.2, clientConnectionId: co1, remoteAlias: 127.0.0.1:1234)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1292.5" x2="1282.5" y1="905.1797" y2="901.1797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1292.5" x2="1282.5" y1="905.1797" y2="909.1797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="662.5" x2="1293.5" y1="905.1797" y2="905.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="608" x="669.5" y="900.1138">Alias(id: 127.0.0.2, alias: 127.0.0.2:0, set: true, clientConnectionId: co1, isConnectionAlias: true)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="934.3125" y2="930.3125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="934.3125" y2="938.3125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="661.5" y1="934.3125" y2="934.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="298" x="220.5" y="929.2466">Alias(id: 127.0.0.2, alias: 127.0.0.2:0, set: true)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="963.4453" y2="959.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="963.4453" y2="967.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="661.5" y1="963.4453" y2="963.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="380" x="220.5" y="958.3794">Accept(boundAlias: 127.0.0.1:1234, clientAlias: 127.0.0.2:0)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="660.5" x2="650.5" y1="992.5781" y2="988.5781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="660.5" x2="650.5" y1="992.5781" y2="996.5781"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="203.5" x2="661.5" y1="992.5781" y2="992.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="293" x="210.5" y="987.5122">Accepting(id: 127.0.0.1, alias: 127.0.0.1:1234)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1292.5" x2="1282.5" y1="1021.7109" y2="1017.7109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1292.5" x2="1282.5" y1="1021.7109" y2="1025.7109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="662.5" x2="1293.5" y1="1021.7109" y2="1021.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="478" x="669.5" y="1016.645">Alias(id: 127.0.0.1, alias: 127.0.0.1:1234, set: true, clientConnectionId: co1)</text><path d="M142,1034.7109 L142,1059.7109 L1355,1059.7109 L1355,1044.7109 L1345,1034.7109 L142,1034.7109 " fill="#FBFB77" filter="url(#f1xjwzn26o2zxp)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1345,1034.7109 L1345,1044.7109 L1355,1044.7109 L1345,1034.7109 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="674" y="1051.7778">Handshake complete</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294.5" x2="1304.5" y1="1089.9766" y2="1085.9766"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294.5" x2="1304.5" y1="1089.9766" y2="1093.9766"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1294.5" x2="1490.5" y1="1089.9766" y2="1089.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="1311.5" y="1084.9106">Closes or shuts down client</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="1119.1094" y2="1115.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="1119.1094" y2="1123.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="661.5" y1="1119.1094" y2="1119.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="220.5" y="1114.0435">Goodbye(id: 127.0.0.2)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="1148.2422" y2="1144.2422"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="213.5" y1="1148.2422" y2="1152.2422"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="203.5" x2="661.5" y1="1148.2422" y2="1148.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="298" x="220.5" y="1143.1763">Alias(id: 127.0.0.2, alias: 127.0.0.2:0, set:false)</text><path d="M142,1161.2422 L142,1186.2422 L1355,1186.2422 L1355,1171.2422 L1345,1161.2422 L142,1161.2422 " fill="#FBFB77" filter="url(#f1xjwzn26o2zxp)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1345,1161.2422 L1345,1171.2422 L1355,1171.2422 L1345,1161.2422 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="682.5" y="1178.3091">Removal complete</text><!--
@startuml
title unisockets Signaling Protocol

actor "External System 1" as e1
participant "Binding Client" as bc
participant "Signaling Server" as ss
participant "Connecting Client" as cc
actor "External System 2" as e2

e1 ->> bc: Opens client

bc ->> ss: Knock(subnet: 127.0.0)
ss - ->> bc: Acknowledgement(id: 127.0.0.1, rejected: false)

e1 ->> bc: Binds alias

bc ->> ss: Bind(id: 127.0.0.1, alias: 127.0.0.1:1234)
ss - ->> bc: Alias(id: 127.0.0.1, alias: 127.0.0.1:1234, set: true)

e1 ->> bc: Accepts clients

bc ->> ss: Accepting(id: 127.0.0.1, alias: 127.0.0.1:1234)

e2 ->> cc: Opens client

cc ->> ss: Knock(subnet: 127.0.0)
ss - ->> cc: Acknowledgement(id: 127.0.0.2, rejected: false)

ss ->> bc: Greeting(offererId: 127.0.0.1, answererId: 127.0.0.2)
bc - ->> ss: Offer(offererId: 127.0.0.1, answererId: 127.0.0.2, offer: o1)

ss ->> cc: Offer(offererId: 127.0.0.1, answererId: 127.0.0.2, offer: o1)

cc - ->> ss: Answer(offererId: 127.0.0.1, answererId: 127.0.0.2, answer: a1)

ss - ->> bc: Answer(offererId: 127.0.0.1, answererId: 127.0.0.2, answer: a1)

bc ->> ss: Candidate(offererId: 127.0.0.1, answererId: 127.0.0.2, candidate: c1)
bc ->> ss: Candidate(offererId: 127.0.0.1, answererId: 127.0.0.2, candidate: c2)

ss ->> cc: Candidate(offererId: 127.0.0.1, answererId: 127.0.0.2, candidate: c1)
ss ->> cc: Candidate(offererId: 127.0.0.1, answererId: 127.0.0.2, candidate: c2)
cc ->> ss: Candidate(offererId: 127.0.0.2, answererId: 127.0.0.1, candidate: c3)
cc ->> ss: Candidate(offererId: 127.0.0.2, answererId: 127.0.0.1, candidate: c4)

ss ->> bc: Candidate(offererId: 127.0.0.2, answererId: 127.0.0.1, candidate: c3)
ss ->> bc: Candidate(offererId: 127.0.0.2, answererId: 127.0.0.1, candidate: c4)

e2 ->> cc: Requests connection

cc ->> ss: Connect(id: 127.0.0.2, clientConnectionId: co1, remoteAlias: 127.0.0.1:1234)

ss - ->> cc: Alias(id: 127.0.0.2, alias: 127.0.0.2:0, set: true, clientConnectionId: co1, isConnectionAlias: true)
ss ->> bc: Alias(id: 127.0.0.2, alias: 127.0.0.2:0, set: true)

ss ->> bc: Accept(boundAlias: 127.0.0.1:1234, clientAlias: 127.0.0.2:0)
bc - ->> ss: Accepting(id: 127.0.0.1, alias: 127.0.0.1:1234)

ss - ->> cc: Alias(id: 127.0.0.1, alias: 127.0.0.1:1234, set: true, clientConnectionId: co1)

note over bc,cc:Handshake complete

e2 ->> cc: Closes or shuts down client

ss ->> bc: Goodbye(id: 127.0.0.2)
ss ->> bc: Alias(id: 127.0.0.2, alias: 127.0.0.2:0, set:false)

note over bc,cc:Removal complete
@enduml

PlantUML version 1.2019.06(Fri May 24 17:10:25 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_275-b01
Operating System: Linux
OS Version: 5.4.0-1032-azure
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>